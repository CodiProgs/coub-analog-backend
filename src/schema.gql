# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

input AuthDto {
  email: String!
  password: String!
}

type AuthType {
  accessToken: String!
  user: UserType!
}

input CommunityDto {
  name: String!
}

type CommunityType {
  avatar: String!
  id: String!
  name: String!
}

input CoubDto {
  communityId: String!
  title: String!
  userId: String!
}

input CoubQueryParamsDto {
  orderBy: OrderBy
  skipCommunities: Float
  skipCoub: Float
  takeCommunities: Float
  timePeriod: TimePeriod
}

type CoubResponseType {
  coubs: [CoubType]
  skipCommunities: Float!
  skipCoub: Float!
  takeCommunities: Float!
}

type CoubType {
  community: CommunityType!
  createdAt: DateTime!
  id: String!
  likes: [LikeType!]!
  title: String!
  url: String!
  user: UserType!
  views: Float!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type LikeType {
  coub: CoubType
  id: String!
  user: UserType!
}

type Mutation {
  auth(input: AuthDto!): AuthType!
  createCommunity(avatar: Upload!, input: CommunityDto!): CommunityType!
  createCoub(input: CoubDto!, video: Upload!): CoubType!
  deleteCommunity(id: String!): CommunityType!
  deleteCoub(id: String!): CoubType!
  deleteUser: UserType!
  getNewToken: String!
  logout: Boolean!
  toggleLike(coubId: String!): Boolean!
  updateAvatar(avatar: Upload!): UserType!
  updateCommunity(avatar: Upload, id: String!, input: CommunityDto!): CommunityType!
  updateCoub(id: String!, input: CoubDto!, video: Upload): CoubType!
  updateEmail(email: String!): UserType!
  updatePassword(password: String!): UserType!
  updateUser(input: UserDto!): UserType!
}

"""Sorting criteria"""
enum OrderBy {
  CREATED_AT
  LIKES
  VIEWS
}

type Query {
  communities: [CommunityType!]!
  community: CommunityType!
  coub(id: String!): CoubType
  coubs(queryParams: CoubQueryParamsDto!): CoubResponseType!
  likes(queryParams: UserQueryParamsDto!): UserType
  user(nickname: String!): UserType
}

"""Time period for filtering"""
enum TimePeriod {
  ALL
  DAY
  MONTH
  WEEK
  YEAR
}

"""The `Upload` scalar type represents a file upload."""
scalar Upload

input UserDto {
  description: String
  name: String!
  nickname: String!
}

input UserQueryParamsDto {
  orderBy: OrderBy
  skip: Float
  take: Float
}

enum UserRole {
  ADMIN
  USER
}

type UserType {
  avatar: String!
  coubs: [CoubType!]
  description: String
  email: String!
  id: String!
  likes: [LikeType!]
  name: String!
  nickname: String!
  role: UserRole!
}